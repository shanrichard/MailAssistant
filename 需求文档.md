# 邮件管家 - 需求文档

## 项目背景

开发一个基于LLM的邮件管家系统，帮助用户智能处理Gmail邮件，减少信息过载压力。

## 目标用户

- 个人使用（公司高层）
- 每天处理几千封邮件，单用户几十封
- 面临严重的邮件信息过载问题

## 核心痛点

**当前问题：**
1. 大量抄送邮件（完全不需要看）
2. 各种广告和动态邮件（信息噪音）
3. 发给邮件群组的邮件（非针对性）

**真正需要的邮件：**
1. 明确以自己为收件人的非广告邮件
2. 有明确商业机会的邮件

## 功能需求

### 核心功能
1. **每日自动分析邮件，生成智能日报**
   - 自动读取并分析所有邮件
   - 生成每日邮件摘要报告
   - 可自定义日报发送时间

2. **基于用户偏好识别重要邮件**
   - 智能识别重要邮件
   - 说明每封重要邮件的重要原因
   - 支持个性化重要性判断标准

3. **非重要邮件分类和总结**
   - 自动分类非重要邮件
   - 每个分类提供总结
   - 显示每个分类的邮件数量

4. **对话式偏好管理**
   - 用户通过自然语言描述偏好
   - 可随时调整偏好设置
   - 偏好作为AI的记忆和上下文

5. **批量操作功能**
   - 一键标记整个分类为已读
   - 支持批量邮件操作

6. **智能邮件搜索**
   - 自然语言查询历史邮件
   - 例如："帮我找一下之前和xx签过的合同"

### 技术要求
- **完全基于LLM的Agent架构**：避免硬编码规则
- **个性化学习**：基于用户偏好的智能分析
- **Gmail集成**：通过Gmail API获取邮件数据
- **Web应用**：支持Google OAuth认证

## 用户体验要求

### 认证和授权
- Google账号授权登录
- 安全的Gmail访问权限管理

### 界面要求
- 清晰的日报展示界面
- 实时的邮件处理进度反馈
- 直观的对话式偏好设置

### 性能要求
- 支持处理大量邮件（每天几千封）
- 合理的响应时间
- 可靠的系统稳定性

## 业务场景

### 典型使用流程
1. 用户Google OAuth登录
2. 首次使用时通过对话设置偏好
3. 系统定时（或手动触发）分析邮件
4. 生成智能日报
5. 用户查看日报，执行批量操作
6. 通过对话查询特定邮件或调整偏好

### 关键交互场景
- **偏好设置**：用户描述什么邮件对自己重要
- **日报查看**：快速了解重要邮件和分类统计
- **批量操作**：一键处理某类邮件
- **智能搜索**：自然语言查询历史邮件

## 成功标准

1. **效率提升**：大幅减少用户查看邮件的时间
2. **精准识别**：准确识别用户真正需要关注的邮件
3. **使用便捷**：简单直观的操作流程
4. **系统稳定**：可靠的服务可用性